<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DIGIVEND - Dashboard Vendedor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-950 text-white min-h-screen flex flex-col">

  <!-- Header -->
  <header class="flex justify-between items-center px-6 py-4 bg-gray-900 shadow-md sticky top-0 z-50">
    <!-- Sidebar Toggle -->
    <button id="menu-toggle" class="text-white hover:text-blue-400 text-2xl">☰</button>

    <!-- Logo -->
    <h1 class="text-2xl font-bold text-blue-400">DIGIVEND</h1>

    <!-- Right Controls -->
    <div class="flex items-center space-x-6 relative">
      <!-- Notificações -->
      <div class="relative">
        <button id="notification-button" class="relative">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-white hover:text-blue-400 transition" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 17h5l-1.405-1.405C18.21 14.79 18 13.9 18 13V9a6 6 0 10-12 0v4c0 .9-.21 1.79-.595 2.595L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
          <span id="notification-count"
            class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full px-1.5 py-0.5 hidden">0</span>
        </button>

        <!-- Painel de notificações -->
        <div id="notification-panel"
          class="hidden absolute right-0 mt-3 w-80 max-h-96 overflow-y-auto bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-3 z-50">
          <h3 class="text-blue-400 text-lg font-semibold mb-2">Notificações</h3>
          <ul id="notification-list" class="space-y-2"></ul>
        </div>
      </div>

      <!-- Perfil -->
      <button id="profile-button"
        class="bg-blue-600 hover:bg-blue-700 p-2 rounded-full transition text-white font-bold">👤</button>
    </div>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar"
    class="fixed top-0 left-0 h-full w-64 bg-gray-900 border-r border-gray-800 transform -translate-x-full transition-transform duration-300 ease-in-out z-40">
    <div class="p-4 border-b border-gray-800 flex justify-between items-center">
      <h2 class="text-xl font-bold text-blue-400">Menu</h2>
      <button id="close-sidebar" class="text-gray-400 hover:text-white text-2xl font-bold">×</button>
    </div>
    <nav class="p-4 space-y-3">
      <a href="#" class="block hover:bg-gray-800 p-2 rounded">🏠 Dashboard</a>
      <a href="#" class="block hover:bg-gray-800 p-2 rounded">📦 Meus Produtos</a>
      <a href="#" class="block hover:bg-gray-800 p-2 rounded">💰 Saques</a>
      <a href="#" class="block hover:bg-gray-800 p-2 rounded">👥 Afiliados</a>
      <a href="#" class="block hover:bg-gray-800 p-2 rounded">⚙️ Configurações</a>
      <a href="index.html" class="block hover:bg-gray-800 p-2 rounded text-red-500">🚪 Sair</a>
    </nav>
  </aside>

  <!-- Saudação -->
  <main class="flex-1 p-8">
    <h2 class="text-3xl font-bold text-blue-400 mb-6">👋 Bem-vindo ao seu Dashboard, Vendedor!</h2>

    <!-- Cards principais -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
      <!-- Card 1 -->
      <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md text-center">
        <h3 class="text-lg font-semibold text-gray-300">Total de Vendas</h3>
        <p class="text-3xl font-bold text-white mt-2">124</p>
      </div>

      <!-- Card 2 -->
      <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md text-center">
        <h3 class="text-lg font-semibold text-gray-300">Afiliados</h3>
        <p class="text-3xl font-bold text-white mt-2">32</p>
      </div>

      <!-- Card 3 -->
      <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md text-center">
        <h3 class="text-lg font-semibold text-gray-300">Produtos</h3>
        <p class="text-3xl font-bold text-white mt-2">15</p>
      </div>

      <!-- Card 4 -->
      <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md text-center">
        <h3 class="text-lg font-semibold text-gray-300">Saques Pendentes</h3>
        <p class="text-3xl font-bold text-white mt-2">3</p>
      </div>
    </div>

    <!-- Gráfico -->
    <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md mb-8">
      <h3 class="text-lg font-semibold text-gray-300 mb-4">Estatísticas de Vendas</h3>
      <canvas id="salesChart" height="120"></canvas>
    </div>

    <!-- Notificações recentes -->
    <div class="bg-gray-900 p-6 rounded-xl border-l-4 border-blue-500 shadow-md">
      <h3 class="text-lg font-semibold text-gray-300 mb-3">Últimas Atualizações</h3>
      <ul id="updates-list" class="space-y-3 text-sm text-gray-300">
        <li class="border-l-4 border-blue-500 pl-3">💸 Você recebeu um pagamento de 500 MZN</li>
        <li class="border-l-4 border-blue-500 pl-3">📦 Novo produto aprovado: “Curso de Marketing”</li>
        <li class="border-l-4 border-blue-500 pl-3">🧾 Saque solicitado - aguardando confirmação</li>
      </ul>
    </div>
  </main>

  <!-- Chatbot -->
  <button id="chatbot-btn"
    class="fixed bottom-6 left-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center text-2xl transition">
    💬
  </button>

  <script>
    // Sidebar
    const sidebar = document.getElementById("sidebar");
    document.getElementById("menu-toggle").onclick = () => sidebar.classList.remove("-translate-x-full");
    document.getElementById("close-sidebar").onclick = () => sidebar.classList.add("-translate-x-full");

    // Notificações
    const notificationButton = document.getElementById("notification-button");
    const notificationPanel = document.getElementById("notification-panel");
    const notificationCount = document.getElementById("notification-count");
    const notificationList = document.getElementById("notification-list");

    const notifications = [
      { id: 1, sender: "Admin DIGIVEND", time: "10:32", date: "27/10/2025", subject: "Bem-vindo!", message: "Olá! Seja bem-vindo ao seu Dashboard de vendedor." },
      { id: 2, sender: "Suporte", time: "09:45", date: "26/10/2025", subject: "Saque aprovado", message: "Seu saque de 500 MZN foi processado com sucesso." }
    ];

    function renderNotifications() {
      notificationList.innerHTML = "";
      notifications.forEach(n => {
        const li = document.createElement("li");
        li.className = "bg-gray-700 hover:bg-gray-600 rounded-lg p-3 cursor-pointer border-l-4 border-blue-500";
        li.innerHTML = `<p class='text-sm font-semibold text-white'>${n.subject}</p>
          <p class='text-xs text-gray-300'>De: ${n.sender} — ${n.date} às ${n.time}</p>`;
        li.onclick = () => openNotification(n);
        notificationList.appendChild(li);
      });
      notificationCount.textContent = notifications.length;
      notificationCount.classList.toggle("hidden", notifications.length === 0);
    }

    function openNotification(n) {
      const modal = document.createElement("div");
      modal.className = "fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50";
      modal.innerHTML = `
        <div class="bg-gray-900 text-white p-6 rounded-xl w-96 shadow-2xl relative">
          <button class="absolute top-2 right-3 text-gray-400 hover:text-white text-xl font-bold" id="close-notif">×</button>
          <h2 class="text-xl text-blue-400 font-bold mb-2">${n.subject}</h2>
          <p class="text-sm text-gray-400 mb-1">De: ${n.sender}</p>
          <p class="text-xs text-gray-500 mb-3">${n.date} às ${n.time}</p>
          <p class="text-gray-200 leading-relaxed">${n.message}</p>
        </div>`;
      document.body.appendChild(modal);
      document.getElementById("close-notif").onclick = () => {
        modal.remove();
        notifications.splice(notifications.indexOf(n), 1);
        renderNotifications();
      };
    }

    notificationButton.onclick = (e) => {
      e.stopPropagation();
      notificationPanel.classList.toggle("hidden");
    };

    document.addEventListener("click", (e) => {
      if (!notificationPanel.contains(e.target) && !notificationButton.contains(e.target)) {
        notificationPanel.classList.add("hidden");
      }
    });

    renderNotifications();

    // Gráfico
    const ctx = document.getElementById('salesChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
        datasets: [{
          label: 'Vendas Semanais',
          data: [4, 6, 3, 8, 5, 2, 7],
          backgroundColor: 'rgba(255,255,255,0.9)',
          borderRadius: 6,
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: {
          x: { ticks: { color: '#bbb' }, grid: { color: 'transparent' } },
          y: { ticks: { color: '#bbb' }, grid: { color: '#333' } }
        }
      }
    });
  </script>
</body>
</html>

